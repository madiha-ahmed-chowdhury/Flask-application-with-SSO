{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1>Welcome to Flask Authentik SSO Example</h1>
    
    {% if current_user.is_authenticated %}
        <p>You are logged in as {{ current_user.name }} ({{ current_user.email }})</p>
        <p>Your roles: {{ current_user.roles|join(', ') }}</p>
        <p><a href="{{ url_for('dashboard') }}" class="btn">Go to Dashboard</a></p>
    {% else %}
        <p>This application demonstrates Single Sign-On (SSO) with Authentik as an OIDC provider.</p>
        <p>It includes role-based access control for different user types.</p>
        <p><a href="{{ url_for('login') }}" class="btn">Login with Authentik</a></p>
    {% endif %}
</div>
{% endblock %}
